const qa = [
  { q: "Ø§Ù‡Ù„Ø§", a: "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ ÙŠØ§ ØµØ§Ø­Ø¨ÙŠ ğŸ˜Š" },
  { q: "Ø§Ø­Ù…Ø¯", a: "Ø£Ù†Ø§ Ø§Ø­Ù…Ø¯ AI ğŸ¤–" },
  { q: "Ø§Ø³Ù…Ùƒ", a: "Ø§Ø³Ù…ÙŠ AHMED AI ØµÙ†Ø¹Ù†ÙŠ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ø­Ù…Ø¯ Ø­Ø³Ù† Ø§Ø¨Ùˆ Ø§Ù„Ø³Ø¹ÙˆØ¯" },
  { q: "ÙƒÙ„Ù…Ù†ÙŠ", a: "Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù‡Ù†Ø§ Ø¹Ù„Ø´Ø§Ù† Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙˆØ£Ø¬Ø§ÙˆØ¨ Ø£Ø³Ø¦Ù„ØªÙƒ" },
  { q: "Ù…ÙŠÙ† ØµÙ…Ù…Ùƒ", a: "ØµÙ…Ù…Ù†ÙŠ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ø­Ù…Ø¯ Ø­Ø³Ù† Ø§Ø¨Ùˆ Ø§Ù„Ø³Ø¹ÙˆØ¯ ÙÙŠ 6 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025" },
  { q: "Ø´Ø§ÙŠ", a: "Ø§ØºÙ„ÙŠ Ù…ÙŠÙ‡ âœ Ø­Ø· Ø´Ø§ÙŠ âœ Ø³ÙŠØ¨Ù‡ 2 Ø¯Ù‚ÙŠÙ‚Ø© âœ ÙˆØ¨Ø§Ù„Ù‡Ù†Ø§! â˜•" },
  { q: "Ù‚Ù‡ÙˆÙ‡", a: "Ù…Ø¹Ù„Ù‚Ø© Ù‚Ù‡ÙˆØ© + Ù…ÙŠÙ‡ Ø³Ø®Ù†Ø© Ø¬Ø¯Ø§Ù‹ = Ù‚Ù‡ÙˆØ© Ù„Ø°ÙŠØ°Ø© ğŸ˜‹" },
  { q: "Ù…ØµØ±", a: "Ù…ØµØ± Ø¨Ù„Ø¯Ù†Ø§ Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©ØŒ Ø¹Ø§ØµÙ…ØªÙ‡Ø§ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© ğŸ‡ªğŸ‡¬" },
  { q: "Ù‚Ø§Ù‡Ø±Ù‡", a: "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø¹Ø§ØµÙ…Ø© Ù…ØµØ±" },
  { q: "Ø§Ù„Ù†ÙŠÙ„", a: "Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… 6650 ÙƒÙ… ğŸŒŠ" },
  { q: "ÙØ±Ù†Ø³Ø§", a: "Ø¨Ø§Ø±ÙŠØ³ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ ğŸ‡«ğŸ‡·" },
  { q: "Ø§Ù„Ù…Ø§Ù†ÙŠ", a: "Ø¨Ø±Ù„ÙŠÙ† Ø¹Ø§ØµÙ…Ø© Ø£Ù„Ù…Ø§Ù†ÙŠØ§ ğŸ‡©ğŸ‡ª" },
  { q: "Ø§Ù„ÙŠØ§Ø¨Ø§Ù†", a: "Ø·ÙˆÙƒÙŠÙˆ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠØ§Ø¨Ø§Ù† ğŸ‡¯ğŸ‡µ" },
  { q: "Ø³Ù…Ø§Ø¡", a: "Ø§Ù„Ø³Ù…Ø§Ø¡ Ø²Ø±Ù‚Ø§Ø¡ Ø¬Ù…ÙŠÙ„Ø© âœ¨" },
  { q: "Ù†Ø¬Ù…", a: "Ø§Ù„Ù†Ø¬ÙˆÙ… Ù…Ù„Ø§ÙŠÙŠÙ† ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡ ğŸŒŸ" },
  { q: "Ù‚Ù…Ø±", a: "Ø§Ù„Ù‚Ù…Ø± ÙŠØ¶ÙŠØ¡ Ø§Ù„Ù„ÙŠÙ„ ğŸŒ™" },
  { q: "Ø´Ù…Ø³", a: "Ø§Ù„Ø´Ù…Ø³ Ù…ØµØ¯Ø± Ø§Ù„Ø­ÙŠØ§Ø© â˜€ï¸" },
  { q: "ÙÙ‡Ø¯", a: "Ø§Ù„ÙÙ‡Ø¯ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠ 120 ÙƒÙ…/Ø³Ø§Ø¹Ø© ğŸ†" },
  { q: "Ø­ÙˆØª", a: "Ø§Ù„Ø­ÙˆØª Ø§Ù„Ø£Ø²Ø±Ù‚ Ø£ÙƒØ¨Ø± Ø­ÙŠÙˆØ§Ù† ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… ğŸ‹" },
  { q: "Ø¬Ø¨Ù„", a: "Ø¬Ø¨Ù„ Ø¥ÙŠÙØ±Ø³Øª Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ 8849 Ù…ØªØ± â›°ï¸" },
  { q: "Ø¹Ù…Ø±", a: "Ù…ØªÙˆØ³Ø· Ø¹Ù…Ø± Ø§Ù„Ø¥Ù†Ø³Ø§Ù† 70-80 Ø³Ù†Ø©" },
  { q: "Ø¹Ø¸Ø§Ù…", a: "Ø¬Ø³Ù…Ùƒ ÙÙŠÙ‡ 206 Ø¹Ø¸Ù…Ø© ğŸ’€" },
  { q: "Ø§Ø³Ù†Ø§Ù†", a: "Ø¹Ù†Ø¯Ùƒ 32 Ø³Ù† Ø¯Ø§Ø¦Ù…Ø© ğŸ˜" },
  { q: "Ù‚Ø±Ø§Ù†", a: "Ø§Ù„Ù‚Ø±Ø¢Ù† 114 Ø³ÙˆØ±Ø© Ùˆ 6236 Ø¢ÙŠØ© ğŸ“–" },
  { q: "Ù†Ø¨ÙŠ", a: "Ø¢Ø¯Ù… Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù… Ø£ÙˆÙ„ Ù†Ø¨ÙŠ" },
  { q: "Ù…Ø­Ù…Ø¯", a: "Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ø®Ø§ØªÙ… Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡" },
  { q: "Ø¨Ø±Ù…Ø¬Ø©", a: "Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙ† ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙƒÙˆØ¯ ğŸ’»" },
  { q: "AI", a: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ ğŸ¤–" },
  { q: "Ø§Ù†ØªØ±Ù†Øª", a: "Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ø¹Ø¸Ù… Ø§Ø®ØªØ±Ø§Ø¹ ğŸŒ" },
  { q: "Ù…ÙˆØ¨Ø§ÙŠÙ„", a: "Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø¶Ø±ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø© ğŸ“±" },
  { q: "ØªØ¹Ù„ÙŠÙ…", a: "Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ù…ÙØªØ§Ø­ Ø§Ù„Ù†Ø¬Ø§Ø­ ğŸ“š" },
  { q: "ØµØ­Ø©", a: "Ø§Ù„ØµØ­Ø© Ø£ØºÙ„Ù‰ Ù…Ø§ Ù†Ù…Ù„Ùƒ ğŸ’š" },
  { q: "Ø±ÙŠØ§Ø¶Ø©", a: "Ø§Ù„Ø±ÙŠØ§Ø¶Ø© ØªÙ‚ÙˆÙŠ Ø§Ù„Ø¬Ø³Ù… ÙˆØ§Ù„Ø¹Ù‚Ù„ ğŸ’ª" },
  { q: "Ø­Ø²ÙŠÙ†", a: "Ù…ØªØ­Ø²Ù†Ø´ ÙŠØ§ ØµØ§Ø­Ø¨ÙŠØŒ Ø§Ù„Ø­ÙŠØ§Ø© Ø¬Ù…ÙŠÙ„Ø© ğŸ’«" },
  { q: "Ø²Ø¹Ù„", a: "Ø§Ù„Ø²Ø¹Ù„ Ø¨ÙŠÙ…Ø´ÙŠ Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª" },
  { q: "ØªØ¹Ø¨Ø§Ù†", a: "Ø®Ø° Ù†ÙØ³Ùƒ ÙˆØ§Ø±ØªØ§Ø­ Ø´ÙˆÙŠØ© ğŸ˜´" },
  { q: "Ù…Ù…Ù„", a: "Ø§Ù„Ù…Ù„Ù„ Ø¹Ø§Ø¨Ø± ÙŠØ§ ØµØ§Ø­Ø¨ÙŠ ğŸ˜„" },
  { q: "Ø³Ø¹Ø§Ø¯Ø©", a: "Ø§Ù„Ø³Ø¹Ø§Ø¯Ø© ÙÙŠ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ø¨Ø³ÙŠØ·Ø© ğŸŒŸ" },
  { q: "Ø­Ø¨", a: "Ø§Ù„Ø­Ø¨ Ø£Ø¬Ù…Ù„ Ø´Ø¹ÙˆØ± ğŸ’•" },
  { q: "ØµØ¯Ø§Ù‚Ø©", a: "Ø§Ù„ØµØ¯ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠÙ‚Ù Ù…Ø¹Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ğŸ‘¯" },
  { q: "Ù†ÙƒØªØ©", a: "ÙˆØ§Ø­Ø¯ Ù‚Ø§Ù„ Ù„Ù„Ø¯ÙƒØªÙˆØ±: ÙƒÙ„ Ù…Ø§ Ø£Ø´Ø±Ø¨ Ø´Ø§ÙŠ Ø¨ØªÙˆØ¬Ø¹Ù†ÙŠ Ø¹ÙŠÙ†ÙŠ!\nØ§Ù„Ø¯ÙƒØªÙˆØ± Ù‚Ø§Ù„: Ø´ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©! ğŸ˜‚" },
  { q: "Ø¶Ø­Ùƒ", a: "Ø§Ù„Ø¶Ø­Ùƒ Ø£ÙØ¶Ù„ Ø¯ÙˆØ§Ø¡ Ù„Ù„Ø±ÙˆØ­ ğŸ˜‚" },
  { q: "ØµØ¨Ø§Ø­", a: "ØµØ¨Ø§Ø­ Ø§Ù„ÙˆØ±Ø¯ ÙˆØ§Ù„ÙŠØ§Ø³Ù…ÙŠÙ† Ø¹Ù„ÙŠÙƒ ğŸŒ…" },
  { q: "Ù…Ø³Ø§Ø¡", a: "Ù…Ø³Ø§Ø¡ Ø§Ù„Ù†ÙˆØ± ÙˆØ§Ù„Ø³Ø¹Ø§Ø¯Ø© ğŸŒ™" },
  { q: "Ø¨Ø§ÙŠ", a: "Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ ğŸ‘‹" },
  { q: "Ø´ÙƒØ±Ø§", a: "Ø£Ù‡Ù„Ø§ ÙˆØ³Ù‡Ù„Ø§ Ù…Ø¹Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ğŸ™" },
  { q: "ØªÙ…Ø§Ù…", a: "ØªÙ…Ø§Ù… Ø§Ù„ØªÙ…Ø§Ù… ÙŠØ§ ØµØ§Ø­Ø¨ÙŠ ğŸ‘" },
  { q: "ÙƒÙˆÙŠØ³", a: "ÙƒÙˆÙŠØ³ Ø§Ù„ØªÙ…Ø§Ù… ğŸ˜Š" },
  { q: "Ø¬Ù…ÙŠÙ„", a: "Ø£Ù†Øª Ø§Ù„Ø£Ø¬Ù…Ù„ ÙŠØ§ ØµØ§Ø­Ø¨ÙŠ ğŸ’«" }
];

function cleanText(text) {
  return text
    .toLowerCase()
    .replace(/Ø§+/g, "Ø§")
    .replace(/Ù‡+/g, "Ù‡")
    .replace(/Ù‰/g, "ÙŠ")
    .replace(/Ø¤/g, "Ùˆ")
    .replace(/Ø¦/g, "ÙŠ")
    .replace(/Ø©/g, "Ù‡")
    .replace(/[^\u0600-\u06FF ]/g, "")
    .trim();
}

function levenshteinDistance(s1, s2) {
  const longer = s1.length > s2.length ? s1 : s2;
  const shorter = s1.length > s2.length ? s2 : s1;
  if (longer.length === 0) return 0;
  
  const distances = [];
  for (let i = 0; i <= shorter.length; i++) {
    distances[i] = [i];
  }
  for (let j = 0; j <= longer.length; j++) {
    distances[0][j] = j;
  }
  
  for (let i = 1; i <= shorter.length; i++) {
    for (let j = 1; j <= longer.length; j++) {
      const cost = shorter[i - 1] === longer[j - 1] ? 0 : 1;
      distances[i][j] = Math.min(
        distances[i][j - 1] + 1,
        distances[i - 1][j] + 1,
        distances[i - 1][j - 1] + cost
      );
    }
  }
  return distances[shorter.length][longer.length];
}

function findBestMatch(input) {
  const cleaned = cleanText(input);
  const words = cleaned.split(/\s+/).filter(w => w.length > 0);
  
  let bestMatch = null;
  let bestScore = 0;
  
  qa.forEach(item => {
    const qCleaned = cleanText(item.q);
    const qWords = qCleaned.split(/\s+/).filter(w => w.length > 0);
    
    let exactMatch = 0;
    let partialMatch = 0;
    
    words.forEach(w => {
      if (qWords.includes(w)) {
        exactMatch++;
      } else {
        qWords.forEach(qw => {
          const distance = levenshteinDistance(w, qw);
          if (distance <= 2) {
            partialMatch += (3 - distance) * 0.5;
          }
        });
      }
    });
    
    const score = (exactMatch * 2 + partialMatch) / (words.length * 2 + 0.1);
    
    if (score > bestScore) {
      bestScore = score;
      bestMatch = item.a;
    }
  });
  
  return { answer: bestMatch, score: bestScore };
}

function getAnswer() {
  const input = document.getElementById("question").value;
  
  if (!input || input.trim() === "") {
    document.getElementById("answer").innerText = "Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„ ğŸ˜Š";
    return;
  }
  
  const result = findBestMatch(input);
  
  if (result.score > 0.3 && result.answer) {
    document.getElementById("answer").innerText = result.answer;
  } else {
    document.getElementById("answer").innerText = "Ø³Ø§Ù…Ø­Ù†ÙŠØŒ Ù…Ø§ Ø£Ø¹Ø±ÙØ´ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ğŸ˜…\nØ¬Ø±Ø¨ Ø³Ø¤Ø§Ù„ ØªØ§Ù†ÙŠ! ğŸ’¡";
  }
}

document.addEventListener("DOMContentLoaded", function() {
  const questionInput = document.getElementById("question");
  if (questionInput) {
    questionInput.addEventListener("keypress", function(event) {
      if (event.key === "Enter") {
        getAnswer();
      }
    });
  }
});
